<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SiPIrRabies (Sistem Pemantauan & Intervensi Rabies) NTT</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Leaflet CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- Custom Scripts -->
    <script defer src="js/main.js"></script>
    <script defer src="js/maps.js"></script>
    <script defer src="js/report.js"></script>
    <script defer src="js/notifications.js"></script>
    <script defer src="js/education.js"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .dashboard-card {
            transition: transform 0.2s;
        }
        .dashboard-card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Sidebar -->
    <div class="fixed inset-y-0 left-0 w-64 bg-blue-800 text-white transition-transform duration-300 transform">
        <div class="p-6">
            <div class="flex flex-col items-center mb-8">
                <div class="w-24 h-24 mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="w-full h-full">
                        <!-- Medical Cap -->
                        <path fill="#ffffff" d="M30 20 L70 20 L70 35 L30 35 Z"/>
                        <rect fill="#ffffff" x="45" y="25" width="10" height="5"/>
                        
                        <!-- Face -->
                        <circle fill="#ffffff" cx="50" cy="45" r="15"/>
                        <circle fill="#ef4444" cx="50" cy="45" r="12"/>
                        
                        <!-- Crossed Sticks -->
                        <g transform="rotate(45, 50, 70)">
                            <rect fill="#ffffff" x="20" y="68" width="60" height="6" rx="3"/>
                            <rect fill="#ffffff" x="47" y="40" width="6" height="60" rx="3"/>
                        </g>
                        
                        <!-- Virus Symbol -->
                        <circle fill="#ef4444" cx="50" cy="70" r="8"/>
                        <g transform="translate(50, 70)">
                            <g transform="rotate(0)">
                                <rect fill="#ef4444" x="-1" y="-12" width="2" height="6"/>
                            </g>
                            <g transform="rotate(45)">
                                <rect fill="#ef4444" x="-1" y="-12" width="2" height="6"/>
                            </g>
                            <g transform="rotate(90)">
                                <rect fill="#ef4444" x="-1" y="-12" width="2" height="6"/>
                            </g>
                            <g transform="rotate(135)">
                                <rect fill="#ef4444" x="-1" y="-12" width="2" height="6"/>
                            </g>
                            <g transform="rotate(180)">
                                <rect fill="#ef4444" x="-1" y="-12" width="2" height="6"/>
                            </g>
                            <g transform="rotate(225)">
                                <rect fill="#ef4444" x="-1" y="-12" width="2" height="6"/>
                            </g>
                            <g transform="rotate(270)">
                                <rect fill="#ef4444" x="-1" y="-12" width="2" height="6"/>
                            </g>
                            <g transform="rotate(315)">
                                <rect fill="#ef4444" x="-1" y="-12" width="2" height="6"/>
                            </g>
                        </g>
                    </svg>
                </div>
                <h1 class="text-xl font-bold">SiPIrRabies</h1>
                <p class="text-sm text-gray-300 text-center">Sistem Pemantauan & Intervensi Rabies NTT</p>
            </div>
            <nav>
                <a href="#dashboard" class="block py-3 px-4 rounded hover:bg-blue-700 mb-2">
                    <i class="fas fa-chart-line mr-2"></i> Dashboard
                </a>
                <a href="#laporan" class="block py-3 px-4 rounded hover:bg-blue-700 mb-2">
                    <i class="fas fa-file-medical mr-2"></i> Lapor Kasus
                </a>
                <a href="#peta" class="block py-3 px-4 rounded hover:bg-blue-700 mb-2">
                    <i class="fas fa-map-marked-alt mr-2"></i> Peta Sebaran
                </a>
                <a href="#edukasi" class="block py-3 px-4 rounded hover:bg-blue-700 mb-2">
                    <i class="fas fa-book-medical mr-2"></i> Edukasi
                </a>
                <a href="#notifikasi" class="block py-3 px-4 rounded hover:bg-blue-700">
                    <i class="fas fa-bell mr-2"></i> Notifikasi
                </a>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <div class="ml-64 p-8">
        <!-- Dashboard Section -->
        <section id="dashboard" class="mb-12">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">Dashboard</h2>
                <span class="text-sm text-gray-500">SiPIrRabies NTT</span>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Total Kasus Card -->
                <div class="dashboard-card bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500">Total Kasus</p>
                            <h3 class="text-3xl font-bold">124</h3>
                        </div>
                        <div class="bg-blue-100 p-3 rounded-full">
                            <i class="fas fa-virus text-blue-500 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-green-500 mt-4"><i class="fas fa-arrow-up"></i> 12% dari bulan lalu</p>
                </div>

                <!-- Kasus Aktif Card -->
                <div class="dashboard-card bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500">Kasus Aktif</p>
                            <h3 class="text-3xl font-bold">45</h3>
                        </div>
                        <div class="bg-red-100 p-3 rounded-full">
                            <i class="fas fa-procedures text-red-500 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-red-500 mt-4"><i class="fas fa-arrow-up"></i> 5% dari minggu lalu</p>
                </div>

                <!-- Kasus Sembuh Card -->
                <div class="dashboard-card bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500">Kasus Sembuh</p>
                            <h3 class="text-3xl font-bold">72</h3>
                        </div>
                        <div class="bg-green-100 p-3 rounded-full">
                            <i class="fas fa-heart text-green-500 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-green-500 mt-4"><i class="fas fa-arrow-up"></i> 8% dari minggu lalu</p>
                </div>

                <!-- Response Time Card -->
                <div class="dashboard-card bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-500">Waktu Respons</p>
                            <h3 class="text-3xl font-bold">2.4 Jam</h3>
                        </div>
                        <div class="bg-purple-100 p-3 rounded-full">
                            <i class="fas fa-clock text-purple-500 text-xl"></i>
                        </div>
                    </div>
                    <p class="text-green-500 mt-4"><i class="fas fa-arrow-down"></i> 15% lebih cepat</p>
                </div>
            </div>

            <!-- Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8">
                <!-- Trend Chart -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h4 class="text-lg font-semibold mb-4">Tren Kasus</h4>
                    <canvas id="trendChart" height="300"></canvas>
                </div>

                <!-- Distribution Chart -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h4 class="text-lg font-semibold mb-4">Distribusi per Kabupaten</h4>
                    <canvas id="distributionChart" height="300"></canvas>
                </div>
            </div>
        </section>

        <!-- Case Report Section -->
        <section id="laporan" class="hidden mb-12">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">Lapor Kasus Rabies</h2>
                <span class="text-sm text-gray-500">SiPIrRabies NTT</span>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <form id="reportForm" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Location Picker -->
                        <div class="col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Lokasi Kejadian</label>
                            <div id="locationPicker" class="w-full h-64 rounded-lg border mb-2"></div>
                            <input type="hidden" id="latitude" name="latitude">
                            <input type="hidden" id="longitude" name="longitude">
                            <input type="text" id="address" name="address" class="mt-2 block w-full rounded-md border-gray-300 shadow-sm" placeholder="Alamat lengkap" readonly>
                        </div>

                        <!-- Patient Information -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nama Korban</label>
                            <input type="text" name="patientName" class="block w-full rounded-md border-gray-300 shadow-sm" required>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Usia Korban</label>
                            <input type="number" name="patientAge" class="block w-full rounded-md border-gray-300 shadow-sm" required>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal Kejadian</label>
                            <input type="date" name="incidentDate" class="block w-full rounded-md border-gray-300 shadow-sm" required>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Hewan</label>
                            <select name="animalType" class="block w-full rounded-md border-gray-300 shadow-sm" required>
                                <option value="">Pilih jenis hewan</option>
                                <option value="dog">Anjing</option>
                                <option value="cat">Kucing</option>
                                <option value="monkey">Monyet</option>
                                <option value="other">Lainnya</option>
                            </select>
                        </div>

                        <!-- Incident Description -->
                        <div class="col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Deskripsi Kejadian</label>
                            <textarea name="description" rows="4" class="block w-full rounded-md border-gray-300 shadow-sm" required></textarea>
                        </div>

                        <!-- Reporter Information -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nama Pelapor</label>
                            <input type="text" name="reporterName" class="block w-full rounded-md border-gray-300 shadow-sm" required>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Kontak Pelapor</label>
                            <input type="tel" name="reporterContact" class="block w-full rounded-md border-gray-300 shadow-sm" required>
                        </div>

                        <!-- Image Upload -->
                        <div class="col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Foto Kejadian (opsional)</label>
                            <input type="file" id="imageUpload" name="images" accept="image/*" multiple class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                        </div>
                    </div>

                    <div class="flex justify-end">
                        <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                            Kirim Laporan
                        </button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Map Section -->
        <section id="peta" class="hidden mb-12">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">Peta Sebaran Rabies</h2>
                <span class="text-sm text-gray-500">SiPIrRabies NTT</span>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
                <div id="map" class="w-full h-[600px] rounded-lg"></div>
            </div>
        </section>

        <!-- Education Section -->
        <section id="edukasi" class="hidden mb-12">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">Edukasi Rabies</h2>
                <span class="text-sm text-gray-500">SiPIrRabies NTT</span>
            </div>
            
            <!-- Search Bar -->
            <div class="mb-6">
                <div class="relative">
                    <input type="text" id="educationSearch" class="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Cari informasi...">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-search text-gray-400"></i>
                    </div>
                </div>
            </div>

            <!-- Content Container -->
            <div class="bg-white p-6 rounded-lg shadow-md">
                <div id="educationContent" class="prose max-w-none">
                    <!-- Content will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Notification Section -->
        <section id="notifikasi" class="hidden mb-12">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">Notifikasi</h2>
                <span class="text-sm text-gray-500">SiPIrRabies NTT</span>
            </div>
            
            <div class="bg-white p-6 rounded-lg shadow-md">
                <!-- Notification Filters -->
                <div class="flex space-x-4 mb-6">
                    <button class="px-4 py-2 rounded-md bg-blue-500 text-white" data-filter="all">Semua</button>
                    <button class="px-4 py-2 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200" data-filter="unread">Belum Dibaca</button>
                    <button class="px-4 py-2 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200" data-filter="high">Prioritas Tinggi</button>
                </div>

                <!-- Notifications Container -->
                <div id="notificationContainer" class="space-y-4">
                    <!-- Notifications will be added dynamically -->
                </div>
            </div>
        </section>
    </div>
</body>
</html>
